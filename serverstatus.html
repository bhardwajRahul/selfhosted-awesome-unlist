<!DOCTYPE html><html><head><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="description" content="*  Display and monitor your servers statistics in a beatiful way."><meta name="DCTERMS.issued"><meta name="DCTERMS.modified"><title></title><link href="https://fonts.googleapis.com/css2?family=Special+Elite&amp;display=swap" rel="stylesheet"><link href="/site.css" rel="stylesheet" type="text/css"></head></head><body><nav class="navigation"><section class="container"><a class="navigation-title" href="/">Selfhosted Awesome [Un]list</a><ul class="navigation-list float-right"><li class="navigation-item"><a class="navigation-link" href="/tags"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg>github</a></li></ul></section></nav><header><div class="container"><div class="row"><div class="column"><div class="title"><h1>serverstatus</h1><span class="subheading"></span><div class="links"><a class="button button-outline" href="https://github.com/BotoX/ServerStatus"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>ServerStatus BotoX</a></div></div></div></div></div></header><section><div class="container"><div class="row"><div class="column"><div class="info"><div class="github"><span class="pushed-at"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-git-commit"><circle cx="12" cy="12" r="4"></circle><line x1="1.05" y1="12" x2="7" y2="12"></line><line x1="17.01" y1="12" x2="22.96" y2="12"></line></svg>08 Oct 2018</span><span class="stargazers-count"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-star"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>646</span><span class="issues"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-alert-circle"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg>11</span></div><div class="tags"><a class="button" href="/tags/c.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg>C</a><a class="button" href="/tags/monitoring.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg>Monitoring</a><a class="button" href="/tags/sysadmin.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg>sysadmin</a></div></div></div></div></div></section><article><div class="container"><div class="row"><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><h1 id="serverstatus">ServerStatus</h1>
<p>ServerStatus is a full rewrite of <a href="https://github.com/mojeda">mojeda&#39;s</a> <a href="https://github.com/mojeda/ServerStatus">ServerStatus</a> script, which in turn is a modified version of <a href="http://www.lowendtalk.com/discussion/comment/169690#Comment_169690">BlueVM&#39;s</a> script.</p>
<h3 id="live-demo">Live demo:</h3>
<ul>
<li><a href="https://status.botox.bz/">https://status.botox.bz/</a></li>
</ul>
<p>There are many things which I dislike about the original script, for example:</p>
<ul>
<li>requires webserver and PHP for every client</li>
<li>querys clients for every user that visits the site</li>
<li>hangs when said clients don&#39;t respond</li>
<li>loading slow with many servers</li>
<li>messy codebase</li>
<li>progress bar animation skips</li>
<li>setup process complicated</li>
</ul>
<p>Therefore I made my own ServerStatus which is quite different than the others under the hood, but still looks as nice!</p>
<p>The way my ServerStatus works is as following:</p>
<ul>
<li>Master server listens on port 35061 TCP</li>
<li>Clients connect to the master server</li>
<li>Clients generate statistics and send it to the master server periodically (eg. every second)</li>
<li>Master server writes summarized stats to web-dir/json/stats.json</li>
<li>Users load HTML page with JavaScript, which fetches the stats.json every two seconds and updates the table</li>
</ul>
<h1 id="installation--usage">Installation &amp; Usage</h1>
<h2 id="master-server">Master Server</h2>
<p>Name &quot;sergate&quot; given by Dasiel :)</p>
<p>Switch to a non-privileged user or create one.
Port 35601 needs to be free and forwarded/open for running the server.</p>
<pre><code>git clone https://github.com/BotoX/ServerStatus.git
cd ServerStatus/server
make
./sergate</code></pre><p>If everything goes well you can move on to the next step!</p>
<h3 id="configuration">Configuration</h3>
<p>Simply edit the config.json file, it&#39;s self explanatory.</p>
<pre><code>{&quot;servers&quot;:
    [
        {
            &quot;username&quot;: &quot;s01&quot;,
            &quot;name&quot;: &quot;Mainserver 1&quot;,
            &quot;type&quot;: &quot;Dedicated Server&quot;,
            &quot;host&quot;: &quot;GenericServerHost123&quot;,
            &quot;location&quot;: &quot;Austria&quot;,
            &quot;password&quot;: &quot;some-hard-to-guess-copy-paste-password&quot;
        },
    ]
}</code></pre><p>If you want to temporarily disable a server you can add</p>
<pre><code>&quot;disabled&quot;: true</code></pre><p>There are also some command line switches which you should be aware of.
Simply add the -h switch when running the binary to find out!</p>
<pre><code>    -h, --help            Show this help message and exit
    -v, --verbose         Verbose output
    -c, --config=&lt;str&gt;    Config file to use
    -d, --web-dir=&lt;str&gt;   Location of the web directory
    -b, --bind=&lt;str&gt;      Bind to address
    -p, --port=&lt;int&gt;      Listen on port</code></pre><p>Also, don&#39;t forget to copy/move the web directory (ServerStatus/status) to a place where your webserver can find it.</p>
<h3 id="running">Running</h3>
<p>You could manually run the master server, but using a startup script is preferred.</p>
<h4 id="debian-and-other-initd-based-systems">Debian and other init.d based systems</h4>
<p>Copy the init.d script to /etc/init.d</p>
<pre><code>cp ServerStatus/other/sergate.initd /etc/init.d/sergate</code></pre><p>Edit it with your favourite text editor and change the following lines according to your setup:</p>
<pre><code># Change this according to your setup!
DAEMON_PATH=&quot;/usr/local/share/ServerStatus/server&quot;
WEB_PATH=&quot;/var/www/botox.bz/status&quot;
DAEMON=&quot;sergate&quot;
OPTS=&quot;-d $WEB_PATH&quot;
RUNAS=&quot;www-data&quot;</code></pre><p>Start the service by running as root</p>
<pre><code>service sergate start</code></pre><p>Add it to the autostart by running as root</p>
<pre><code>update-rc.d sergate defaults</code></pre><h4 id="arch-linux-and-other-systemd-based-systems">Arch Linux and other systemd based systems</h4>
<p>Copy the systemd service to /etc/systemd/system</p>
<pre><code>cp ServerStatus/other/sergate.service /etc/systemd/system/sergate.service</code></pre><p>Edit it with your favourite text editor and change the following lines according to your setup:</p>
<pre><code>WorkingDirectory=/usr/local/share/ServerStatus/server
User=botox.bz
Group=http
ExecStart=/usr/local/share/ServerStatus/server/sergate -d /home/botox.bz/status</code></pre><p>Start the service by running as root</p>
<pre><code>systemctl start sergate</code></pre><p>Add it to the autostart by running as root</p>
<pre><code>systemctl enable sergate</code></pre><h6 id="note">Note:</h6>
<p>Make sure that the user which runs the master server has access to the web path and can write to $WEB_PATH/json.</p>
<h2 id="client">Client</h2>
<p>There are two client implementations at the moment:</p>
<ul>
<li>Python2 <strong>[preferred]</strong></li>
<li>Python2-psutil</li>
<li>Bash</li>
</ul>
<p>All three scripts are fully supported and as easy to set up.
More implementations will follow, feel free to create one and make a pull request.</p>
<p>While the Python2 and Bash clients only support GNU/Linux, Python2-psutil supports a wide range of operating systems, such as BSD or Windows, see <a href="#python2-psutil-client">Python2-psutil</a></p>
<h2 id="automatic-installation">Automatic installation</h2>
<p>The bash script client-setup.sh in other/ is an easy way to set up a new client.
You need to have wget and ca-certificates (or use wget --no-check-certificate) installed for it to work.
You could run it like this:</p>
<pre><code>wget https://raw.github.com/BotoX/ServerStatus/master/other/client-setup.sh
bash client-setup.sh</code></pre><p>The script will also detect wether you&#39;re using systemd or SysVinit and ask you wether it should create a service/autostart for the client.
You can also use this script to easily update the already installed one.</p>
<h2 id="manual-installation">Manual installation</h2>
<p>With your favourite text editor change the following lines according to your setup:</p>
<h3 id="python-client">Python Client</h3>
<pre><code>SERVER = &quot;status.botox.bz&quot;
PORT = 35601
USER = &quot;s01&quot;
PASSWORD = &quot;some-hard-to-guess-copy-paste-password&quot;
INTERVAL = 1 # Update interval</code></pre><h3 id="python2-psutil-client">Python2-psutil Client</h3>
<pre><code>SERVER = &quot;status.botox.bz&quot;
PORT = 35601
USER = &quot;s01&quot;
PASSWORD = &quot;some-hard-to-guess-copy-paste-password&quot;
INTERVAL = 1 # Update interval</code></pre><p>This client can be run on all operating systems supported by the <a href="https://code.google.com/p/psutil/">psutil project</a>.</p>
<h4 id="windows">Windows</h4>
<p>It will also work on Windows, either use the <a href="https://i.botox.bz/serverstatus-client.exe">precompiled</a> and self-contained version or install <a href="http://python.org/downloads/windows/">Python2</a> and <a href="https://pypi.python.org/pypi?:action=display&amp;name=psutil#downloads">psutil</a>. The precompiled version has been built using <a href="http://py2exe.org/">py2exe</a>.
The setup script is included if you want to build it yourself.
After installing all the dependencies run &quot;python setup.py py2exe&quot; and hope.</p>
<p>The windows configuration works different to make the precompiled and self-contained version possible. Edit the client.cfg file according to your setup:</p>
<pre><code>[client]
SERVER = status.botox.bz
PORT = 35601
USER = s01
PASSWORD = some-hard-to-guess-copy-paste-password
INTERVAL = 1</code></pre><h3 id="bash-client">Bash Client</h3>
<pre><code>SERVER=&quot;status.botox.bz&quot;
PORT=35601
USER=&quot;s01&quot;
PASSWORD=&quot;some-hard-to-guess-copy-paste-password&quot;
INTERVAL=1 # Update interval</code></pre><h3 id="running-1">Running</h3>
<p>After you&#39;ve verified that the client configuration is correct, by running it, you can either make it start automatically by a startup script or cronjob, or just start it manually:</p>
<pre><code>nohup ./client.py &amp;&gt; /dev/null &amp;</code></pre><h4 id="debian-and-other-initd-based-systems-1">Debian and other init.d based systems</h4>
<p>Simply add something like this to /etc/rc.local:</p>
<pre><code>su -l $USERNAME -c &quot;/path/to/client.py &amp;&gt; /dev/null &amp;&quot;</code></pre><h4 id="arch-linux-and-other-systemd-based-systems-1">Arch Linux and other systemd based systems</h4>
<p>Create a new systemd service by creating the file /etc/systemd/system/serverstatus.service with similar content:</p>
<pre><code>[Unit]
Description=ServerStatus Client
After=network.target

[Service]
Type=simple
IgnoreSIGPIPE=no
User=$USERNAME
ExecStart=/path/to/client.py

[Install]
WantedBy=multi-user.target</code></pre><h6 id="note-1">Note:</h6>
<p>IgnoreSIGPIPE=no is important for the bash client, when this line is missing it wont reconnect and flood the journal with broken pipe errors.</p>
<p>You don&#39;t have to worry about the clients in case the master server goes down, they will keep trying to reconnect until they can reach the master server again.</p>
<h1 id="additional-information">Additional information</h1>
<p>For questions you can contact me via IRC.
You can find me under the nick BotoX in the following networks: Freenode, QuakeNet, Rizon, synIRC and StormBit</p>
<h2 id="license">License</h2>
<pre><code>            DO WHAT THE FUCK YOU WANT TO PUBLIC LICENSE
                    Version 2, December 2004

 Copyright (C) 2004 Sam Hocevar &lt;sam@hocevar.net&gt;

 Everyone is permitted to copy and distribute verbatim or modified
 copies of this license document, and changing it is allowed as long
 as the name is changed.

            DO WHAT THE FUCK YOU WANT TO PUBLIC LICENSE
   TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION

  0. You just DO WHAT THE FUCK YOU WANT TO.</code></pre><p>If you plan on modifying this project I&#39;d be happy if you let me know!</p>
<h2 id="credits">Credits</h2>
<p>Obviously the original script from <a href="http://www.lowendtalk.com/discussion/comment/169690#Comment_169690">BlueVM</a> and <a href="https://github.com/mojeda">mojeda&#39;s</a> <a href="https://github.com/mojeda/ServerStatus">fork</a>.</p>
<p>I&#39;d also like to thank the <a href="https://github.com/teeworlds/teeworlds">Teeworlds</a> project for some of the code which has been used in this project.</p>
</div></div></div></article><footer><div class="container"><div class="row"><div class="column">Total Projects: 1313</div><div class="column">Built At: 02 May 2020</div><div class="column">Version: 1.0.0</div></div></div></footer><script src="/site.js"></script></body></html>